<table class="appointments-table">
  <thead>
    <tr>
      <th>Date</th>
      <th>Doctor</th>
      <th>Specialty</th>
      <th>Status</th>
      <th>Comment</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% appointments.each do |appointment| %>
      <tr class="<%= appointment.closed? ? 'closed' : 'open' %>">
        <td><%= appointment.date.strftime('%Y-%m-%d %H:%M') %></td>
        <td><%= appointment
                .doctor_name.presence || "-" %></td>
        <td><%= appointment
                .doctor_category_name.presence || "-" %></td>
        <td><%= status %></td>
        <td><%= appointment.recommendation || '-' %></td>
        <td>
          <% if status == "Open" %>
            <%= button_to "Cancel", appointment_path(appointment),
                          method: :delete,
                          data: { confirm: "Are you sure?" },
                          class: "btn btn-cancel" %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>